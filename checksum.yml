---
- name: creating playbook for checksum
  hosts: all
  become: true
  vars_files:
    - files_list.yml
  tasks:
    - name: checking current checksup
      stat:
        dest: "{{item.name}}"
        checksum: "{{item.checksum}}"
      with_items: "{{ files}}"
      register: test

    - debug:
        msg: "checksum matched"
      when: '"{{item.item.checksum}}" == "{{item.stat.checksum}}"'
      with_items: "{{test.result}}"  
    
    - debug:
        msg: "checksum not matched"            
      when: '"{{item.item.checksum}}" =! "{{item.stat.checksum}}"'
      with_items: "{{test.result}}"


